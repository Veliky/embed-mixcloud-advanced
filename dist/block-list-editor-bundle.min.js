!function(e){var t={};function n(r){if(t[r])return t[r].exports;var l=t[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(r,l,function(t){return e[t]}.bind(null,l));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=29)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"j",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"h",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"g",(function(){return m})),n.d(t,"n",(function(){return f})),n.d(t,"i",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"k",(function(){return O})),n.d(t,"m",(function(){return w}));var r=n(0),l=n(1),c=(Object(r.createElement)(l.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(l.Path,{fill:"none",d:"M0 0h24v24H0V0z"}),Object(r.createElement)(l.Path,{d:"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h18v14zM8 15c0-1.66 1.34-3 3-3 .35 0 .69.07 1 .18V6h5v2h-3v7.03c-.02 1.64-1.35 2.97-3 2.97-1.66 0-3-1.34-3-3z"})),Object(r.createElement)(l.SVG,{viewBox:"0 0 302.4 302.4",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)("path",{d:"M204.8,97.6C191.2,84,172,75.2,151.2,75.2s-40,8.4-53.6,22.4c-13.6,13.6-22.4,32.8-22.4,53.6s8.8,40,22.4,53.6 c13.6,13.6,32.8,22.4,53.6,22.4s40-8.4,53.6-22.4c13.6-13.6,22.4-32.8,22.4-53.6S218.8,111.2,204.8,97.6z"}),Object(r.createElement)("path",{d:"M151.2,51.6c5.6,0,10.4-4.8,10.4-10.4V10.4c0-5.6-4.8-10.4-10.4-10.4c-5.6,0-10.4,4.8-10.4,10.4v30.8 C140.8,46.8,145.6,51.6,151.2,51.6z"}),Object(r.createElement)("path",{d:"M236.4,80.8l22-22c4-4,4-10.4,0-14.4s-10.4-4-14.4,0l-22,22c-4,4-4,10.4,0,14.4C225.6,84.8,232,84.8,236.4,80.8z"}),Object(r.createElement)("path",{d:"M292,140.8h-30.8c-5.6,0-10.4,4.8-10.4,10.4c0,5.6,4.8,10.4,10.4,10.4H292c5.6,0,10.4-4.8,10.4-10.4 C302.4,145.6,297.6,140.8,292,140.8z"}),Object(r.createElement)("path",{d:"M236,221.6c-4-4-10.4-4-14.4,0s-4,10.4,0,14.4l22,22c4,4,10.4,4,14.4,0s4-10.4,0-14.4L236,221.6z"}),Object(r.createElement)("path",{d:"M151.2,250.8c-5.6,0-10.4,4.8-10.4,10.4V292c0,5.6,4.8,10.4,10.4,10.4c5.6,0,10.4-4.8,10.4-10.4v-30.8 C161.6,255.6,156.8,250.8,151.2,250.8z"}),Object(r.createElement)("path",{d:"M66,221.6l-22,22c-4,4-4,10.4,0,14.4s10.4,4,14.4,0l22-22c4-4,4-10.4,0-14.4C76.8,217.6,70.4,217.6,66,221.6z"}),Object(r.createElement)("path",{d:"M51.6,151.2c0-5.6-4.8-10.4-10.4-10.4H10.4c-5.6,0-10.4,4.8-10.4,10.4s4.8,10.4,10.4,10.4h30.8 C46.8,161.6,51.6,156.8,51.6,151.2z"}),Object(r.createElement)("path",{d:"M66,80.8c4,4,10.4,4,14.4,0s4-10.4,0-14.4l-22-22c-4-4-10.4-4-14.4,0s-4,10.4,0,14.4L66,80.8z"}))),o=Object(r.createElement)(l.SVG,{viewBox:"0 0 480 480",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(l.Path,{d:"M459.782,347.328c-4.288-5.28-11.488-7.232-17.824-4.96c-17.76,6.368-37.024,9.632-57.312,9.632 c-97.056,0-176-78.976-176-176c0-58.4,28.832-112.768,77.12-145.472c5.472-3.712,8.096-10.4,6.624-16.832 S285.638,2.4,279.078,1.44C271.59,0.352,264.134,0,256.646,0c-132.352,0-240,107.648-240,240s107.648,240,240,240 c84,0,160.416-42.688,204.352-114.176C464.55,360.032,464.038,352.64,459.782,347.328z"})),i=Object(r.createElement)(l.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(l.Rect,{height:"20",width:"20",y:"2",x:"2",fillOpacity:"0",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor"})),a=Object(r.createElement)(l.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(l.Rect,{height:"12",width:"22",y:"6",x:"1",fillOpacity:"0",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor"}),Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"7",x2:"11",y1:"18",x1:"11",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"}),Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"12",x2:"11",y1:"12",x1:"22",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"})),s=Object(r.createElement)(l.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(l.Rect,{height:"8",width:"22",y:"8",x:"1",fillOpacity:"0",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor"}),Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"9",x2:"10",y1:"16",x1:"10",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"})),u=Object(r.createElement)(l.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(l.Rect,{height:"12",width:"22",y:"6",x:"1",fillOpacity:"0",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor"}),Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"12",x2:"2",y1:"12",x1:"22",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"})),d=Object(r.createElement)(l.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(l.Rect,{height:"12",width:"22",y:"6",x:"1",fillOpacity:"0",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor"})),m=Object(r.createElement)(l.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(l.Rect,{height:"8",width:"22",y:"8",x:"1",fillOpacity:"0",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor"})),f=Object(r.createElement)(l.SVG,{className:"mea-show__spinner",width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(l.Circle,{cx:"10",cy:"10",r:"9"}),Object(r.createElement)("path",{d:"M8 6l6 4.03L8 14V6z",fill:"currentColor"})),b=Object(r.createElement)(l.SVG,{className:"mea-show__spinner",width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(l.Circle,{cx:"10",cy:"10",r:"9"}),Object(r.createElement)("text",{fill:"currentColor",strokeWidth:"0",x:"5.5",y:"14",fontSize:"11",fontFamily:"sans-serif"},"M")),p=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="mea-show__spinner"+(e?" mea-show__spinner_download":"");return Object(r.createElement)(l.SVG,{className:t,width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(l.Circle,{cx:"10",cy:"10",r:"9"}),Object(r.createElement)("path",{d:"M14 8l-4.03 6L6 8h8z",fill:"currentColor"}))},h=Object(r.createElement)(l.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true",focusable:"false"},Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"2",x2:"1",y1:"2",x1:"9",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"}),Object(r.createElement)(l.Rect,{height:"12",width:"22",y:"6",x:"1",fillOpacity:"0",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor"}),Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"7",x2:"11",y1:"18",x1:"11",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"}),Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"12",x2:"11",y1:"12",x1:"22",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"})),O=Object(r.createElement)(l.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true",focusable:"false"},Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"2",x2:"8",y1:"2",x1:"16",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"}),Object(r.createElement)(l.Rect,{height:"12",width:"22",y:"6",x:"1",fillOpacity:"0",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor"}),Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"7",x2:"11",y1:"18",x1:"11",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"}),Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"12",x2:"11",y1:"12",x1:"22",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"})),w=Object(r.createElement)(l.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true",focusable:"false"},Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"2",x2:"15",y1:"2",x1:"23",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"}),Object(r.createElement)(l.Rect,{height:"12",width:"22",y:"6",x:"1",fillOpacity:"0",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor"}),Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"7",x2:"11",y1:"18",x1:"11",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"}),Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"12",x2:"11",y1:"12",x1:"22",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"}))},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){!function(){e.exports=this.wp.blockEditor}()},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c}));var r=function(e){return/^\s*(https?:\/\/(.+?\.)?mixcloud\.com\S+)\s*$/i.test(e)},l=function(e){var t=e.match(new RegExp("com/([^/]+)"));return t&&"string"==typeof t[1]?t[1]:""},c="https://datcoder.com/embed-mixcloud-advanced/"},function(e,t){!function(){e.exports=this.wp.data}()},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){!function(){e.exports=this.wp.blocks}()},function(e,t,n){var r=n(19);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(20),l=n(4);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?l(e):t}},function(e,t){!function(){e.exports=this.regeneratorRuntime}()},,function(e,t){!function(){e.exports=this.wp.compose}()},function(e,t){function n(e,t,n,r,l,c,o){try{var i=e[c](o),a=i.value}catch(e){return void n(e)}i.done?t(a):Promise.resolve(a).then(r,l)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(l,c){var o=e.apply(t,r);function i(e){n(o,l,c,i,a,"next",e)}function a(e){n(o,l,c,i,a,"throw",e)}i(void 0)}))}}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},,,,,,,,,function(e,t,n){e.exports=n(33)},,,,function(e,t,n){"use strict";n.r(t);var r=n(0),l=n(2),c=n(17),o=n(9),i=n(12),a=n(7),s=n(3),u=n(11),d=n.n(u),m=n(15),f=n.n(m),b=n(18),p=n.n(b),h=n(6),O=n.n(h),w=n(4),y=n.n(w),v=n(5),j=n.n(v),x=n(13),k=n.n(x),g=n(14),E=n.n(g),_=n(10),C=n.n(_),L=n(1),S=function(e){var t=e.cannotLoad,n=e.url,c=e.limit,o=e.offset,i=e.since,u=e.until,d=(e.previewInfoLink,e.loadPreview),m=e.editingChildURL,f=e.onChangeURL,b=e.inverse,p=e.onSubmit,h=e.onChangeValue,O=function(e){return function(t){h(e,t)}};return Object(r.createElement)(L.Placeholder,{icon:Object(r.createElement)(a.BlockIcon,{icon:s.i,showColors:!0}),label:Object(l.__)("Mixcloud Advanced - List","embed-mixcloud-advanced"),className:"wp-block-embed",instructions:t?Object(l.__)("Something went wrong!","embed-mixcloud-advanced"):Object(l.__)("To import shows from a Mixcloud channel please select the parameters and press button.","embed-mixcloud-advanced")},Object(r.createElement)("form",{className:"mea-list__form",onSubmit:p},Object(r.createElement)("div",{className:"mea-list__form__group"},Object(r.createElement)("input",{type:"url",value:n||"",className:"components-placeholder__input"+(t?" components-placeholder__input-error":""),"aria-label":Object(l.__)("Mixcloud Channel URL","embed-mixcloud-advanced"),placeholder:Object(l.__)("Enter channel URL here…","embed-mixcloud-advanced"),onChange:f}),Object(r.createElement)(L.Button,{isPrimary:!0,type:"submit",tabIndex:0},Object(l._x)("Embed","button label"))),Object(r.createElement)("div",{className:"mea-list__form__group_secondary"},Object(r.createElement)("label",null,Object(r.createElement)("span",null,Object(l.__)("Offset","embed-mixcloud-advanced"),":"),Object(r.createElement)(L.TextControl,{autoFocus:!0,type:"number",value:o,onChange:O("offset"),"aria-label":Object(l.__)("Offset","embed-mixcloud-advanced")})),Object(r.createElement)("label",null,Object(r.createElement)("span",null,Object(l.__)("Limit","embed-mixcloud-advanced"),":"),Object(r.createElement)(L.TextControl,{type:"number",value:c,onChange:O("limit"),"aria-label":Object(l.__)("Limit","embed-mixcloud-advanced")})),Object(r.createElement)("label",null,Object(r.createElement)("span",null,Object(l.__)("Since","embed-mixcloud-advanced"),":"),Object(r.createElement)(L.TextControl,{tabIndex:-1,type:"date",value:i,onChange:O("since"),"aria-label":Object(l.__)("Since","embed-mixcloud-advanced")})),Object(r.createElement)("label",null,Object(r.createElement)("span",null,Object(l.__)("Until","embed-mixcloud-advanced"),":"),Object(r.createElement)(L.TextControl,{tabIndex:-1,type:"date",value:u,onChange:O("until"),"aria-label":Object(l.__)("Until","embed-mixcloud-advanced")})))),Object(r.createElement)("form",null,Object(r.createElement)(L.CheckboxControl,{className:"components-placeholder__learn-more",label:Object(l.__)("Enable preview on each show","embed-mixcloud-advanced"),checked:d,onChange:b("loadPreview")}),Object(r.createElement)(L.CheckboxControl,{className:"components-placeholder__learn-more",label:Object(l.__)("Placeholder instead widget (editing parameters mode)","embed-mixcloud-advanced"),checked:m,onChange:b("editingChildURL")})),Object(r.createElement)("div",null,Object(l.__)("To download the preview data, a request will be made from the server to the show page.","embed-mixcloud-advanced")))},R=n(8);function P(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var B=Object(L.withFocusReturn)(function(e){k()(c,e);var t,n=(t=c,function(){var e,n=C()(t);if(P()){var r=C()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return E()(this,e)});function c(e){var t;return O()(this,c),(t=n.call(this,e)).setUrl=t.setUrl.bind(y()(t)),t.submit=t.submit.bind(y()(t)),t.requestShows=t.requestShows.bind(y()(t)),t.initInnerBlocks=t.initInnerBlocks.bind(y()(t)),t.__set=t.__set.bind(y()(t)),t.state={url:e.attributes.url,limit:e.attributes.limit,offset:e.attributes.offset,since:e.attributes.since||"",until:e.attributes.until||"",editingURL:e.attributes.editingURL,shows:e.attributes.url||[],loadPreview:e.attributes.url||!0,editingChildURL:e.attributes.editingChildURL||!1},t}return j()(c,[{key:"withFocusReturn",value:function(){}}]),j()(c,[{key:"setUrl",value:function(e){this.__set({url:e}),this.props.cannotEmbed&&!this.state.editingURL&&this.__set({editingURL:!0})}},{key:"submit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;e&&e.preventDefault();var t=this.state.url;t&&(this.__set({editingURL:!1}),this.requestShows())}},{key:"__set",value:function(e){this.setState(e),this.props.setAttributes(e)}},{key:"requestShows",value:function(){var e=this;this.setState({fetching:!0});var t=this.state.url;p()(f.a.mark((function n(){var r,l;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="https://api.mixcloud.com/"+Object(R.a)(t)+"/cloudcasts/?a=a",["limit","offset","since","until"].forEach((function(t,n){e.state[t]&&(r+="&".concat(t,"=").concat(e.state[t]),r+=["since","until"].indexOf(t)>-1?" 00:00:00":"")})),n.next=4,fetch(r);case 4:if(!(l=n.sent).ok){n.next=11;break}return n.next=8,l.json();case 8:return n.abrupt("return",n.sent);case 11:console.error("HTTP ERROR: "+l.status);case 12:case"end":return n.stop()}}),n)})))().then((function(t){void 0!==t.data&&e.setState({shows:t.data}),(0,e.props.setAttributes)({shows:t.data}),e.initInnerBlocks()}))}},{key:"initInnerBlocks",value:function(){var e=this.state,t=e.shows,n=e.loadPreview,r=e.editingChildURL;if(void 0!==t&&void 0!==t.length){for(var l=0;l<t.length;l++){var c=Object(o.select)("core/block-editor").getBlockInsertionPoint().index,a=Object(i.createBlock)("veliky/mixcloud-show",{url:t[l].url,loadPreview:n,editingURL:r});Object(o.dispatch)("core/editor").insertBlocks(a,c,this.props.clientId)}this.__set({editingURL:!0})}}},{key:"render",value:function(){var e=this,t=this.state,n=t.url,c=t.limit,o=t.offset,i=t.since,s=t.until,u=t.loadPreview,m=t.editingChildURL,f=this.props,b=f.className,p=f.allowedBlocks,h=f.cannotEmbed,O=f.fetching;return O?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"wp-block-embed is-loading"},Object(r.createElement)(L.Spinner,null),Object(r.createElement)("p",null,Object(l.__)("Loading…","embed-mixcloud-advanced")))):Object(r.createElement)("div",{className:"mea-list__container "+b},!O&&Object(r.createElement)(S,{cannotLoad:h,url:n,limit:c,offset:o,since:i,until:s,previewInfoLink:R.c+"#preview",loadPreview:u,editingChildURL:m,onSubmit:this.submit,onChangeValue:function(t,n){return e.__set(d()({},t,n))},onChangeURL:function(t){return e.setUrl(t.target.value)},inverse:function(t){return function(n){return e.setState(d()({},t,!e.state[t]))}}}),Object(r.createElement)(a.InnerBlocks,{allowedBlocks:p}))}}]),c}(r.Component));Object(i.registerBlockType)("veliky/mixcloud-list",{icon:s.i,title:Object(l.__)("Mixcloud Advanced - List","embed-mixcloud-advanced"),attributes:{url:{type:"string"},limit:{type:"string",default:"5"},offset:{type:"string",default:"0"},since:{type:"string"},until:{type:"string"},editingURL:{type:"boolean",default:!0}},edit:Object(c.compose)(Object(o.withSelect)((function(e,t){var n=t.attributes,r=n.url,l=n.editingURL,c=e("core"),o=c.getEmbedPreview,i=c.isPreviewEmbedFallback,a=c.isRequestingEmbedPreview;if(!l){var s=void 0!==r&&""!==r,u=s&&o(r),d=s&&i(r),m=s&&a(r),f=!!u&&void 0===u.type&&!1===u.html,b=!!u&&u.data&&404===u.data.status,p=!!u&&!f&&!b;return{preview:p?u:void 0,fetching:m,cannotEmbed:s&&(!Object(R.b)(r)||!p||d)}}})))(B),save:function(e){var t=e.className;return Object(r.createElement)("div",{className:t},Object(r.createElement)(a.InnerBlocks.Content,{allowedBlocks:B.allowedBlocks}))}})}]);