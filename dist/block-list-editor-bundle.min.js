!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=30)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.wp.i18n},function(e,t,n){"use strict";n.r(t),n.d(t,"embedAudioIcon",(function(){return c})),n.d(t,"lightThemeIcon",(function(){return l})),n.d(t,"darkThemeIcon",(function(){return i})),n.d(t,"pictureWidgetIcon",(function(){return a})),n.d(t,"classicWidgetIcon",(function(){return s})),n.d(t,"miniWidgetIcon",(function(){return u})),n.d(t,"noArtworkWidgetIcon",(function(){return d})),n.d(t,"coveredWidgetIcon",(function(){return m})),n.d(t,"miniNoArtworkWidgetIcon",(function(){return b})),n.d(t,"previewIcon",(function(){return f})),n.d(t,"mixcloudIcon",(function(){return p})),n.d(t,"downloadIcon",(function(){return h})),n.d(t,"previewAlignLeft",(function(){return w})),n.d(t,"previewAlignCenter",(function(){return O})),n.d(t,"previewAlignRight",(function(){return v}));var r=n(0),o=n(1),c=Object(r.createElement)(o.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(o.Path,{fill:"none",d:"M0 0h24v24H0V0z"}),Object(r.createElement)(o.Path,{d:"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h18v14zM8 15c0-1.66 1.34-3 3-3 .35 0 .69.07 1 .18V6h5v2h-3v7.03c-.02 1.64-1.35 2.97-3 2.97-1.66 0-3-1.34-3-3z"})),l=Object(r.createElement)(o.SVG,{viewBox:"0 0 302.4 302.4",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)("path",{d:"M204.8,97.6C191.2,84,172,75.2,151.2,75.2s-40,8.4-53.6,22.4c-13.6,13.6-22.4,32.8-22.4,53.6s8.8,40,22.4,53.6 c13.6,13.6,32.8,22.4,53.6,22.4s40-8.4,53.6-22.4c13.6-13.6,22.4-32.8,22.4-53.6S218.8,111.2,204.8,97.6z"}),Object(r.createElement)("path",{d:"M151.2,51.6c5.6,0,10.4-4.8,10.4-10.4V10.4c0-5.6-4.8-10.4-10.4-10.4c-5.6,0-10.4,4.8-10.4,10.4v30.8 C140.8,46.8,145.6,51.6,151.2,51.6z"}),Object(r.createElement)("path",{d:"M236.4,80.8l22-22c4-4,4-10.4,0-14.4s-10.4-4-14.4,0l-22,22c-4,4-4,10.4,0,14.4C225.6,84.8,232,84.8,236.4,80.8z"}),Object(r.createElement)("path",{d:"M292,140.8h-30.8c-5.6,0-10.4,4.8-10.4,10.4c0,5.6,4.8,10.4,10.4,10.4H292c5.6,0,10.4-4.8,10.4-10.4 C302.4,145.6,297.6,140.8,292,140.8z"}),Object(r.createElement)("path",{d:"M236,221.6c-4-4-10.4-4-14.4,0s-4,10.4,0,14.4l22,22c4,4,10.4,4,14.4,0s4-10.4,0-14.4L236,221.6z"}),Object(r.createElement)("path",{d:"M151.2,250.8c-5.6,0-10.4,4.8-10.4,10.4V292c0,5.6,4.8,10.4,10.4,10.4c5.6,0,10.4-4.8,10.4-10.4v-30.8 C161.6,255.6,156.8,250.8,151.2,250.8z"}),Object(r.createElement)("path",{d:"M66,221.6l-22,22c-4,4-4,10.4,0,14.4s10.4,4,14.4,0l22-22c4-4,4-10.4,0-14.4C76.8,217.6,70.4,217.6,66,221.6z"}),Object(r.createElement)("path",{d:"M51.6,151.2c0-5.6-4.8-10.4-10.4-10.4H10.4c-5.6,0-10.4,4.8-10.4,10.4s4.8,10.4,10.4,10.4h30.8 C46.8,161.6,51.6,156.8,51.6,151.2z"}),Object(r.createElement)("path",{d:"M66,80.8c4,4,10.4,4,14.4,0s4-10.4,0-14.4l-22-22c-4-4-10.4-4-14.4,0s-4,10.4,0,14.4L66,80.8z"})),i=Object(r.createElement)(o.SVG,{viewBox:"0 0 480 480",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(o.Path,{d:"M459.782,347.328c-4.288-5.28-11.488-7.232-17.824-4.96c-17.76,6.368-37.024,9.632-57.312,9.632 c-97.056,0-176-78.976-176-176c0-58.4,28.832-112.768,77.12-145.472c5.472-3.712,8.096-10.4,6.624-16.832 S285.638,2.4,279.078,1.44C271.59,0.352,264.134,0,256.646,0c-132.352,0-240,107.648-240,240s107.648,240,240,240 c84,0,160.416-42.688,204.352-114.176C464.55,360.032,464.038,352.64,459.782,347.328z"})),a=Object(r.createElement)(o.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(o.Rect,{height:"20",width:"20",y:"2",x:"2",fillOpacity:"0",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor"})),s=Object(r.createElement)(o.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(o.Rect,{height:"12",width:"22",y:"6",x:"1",fillOpacity:"0",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor"}),Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"7",x2:"11",y1:"18",x1:"11",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"}),Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"12",x2:"11",y1:"12",x1:"22",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"})),u=Object(r.createElement)(o.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(o.Rect,{height:"8",width:"22",y:"8",x:"1",fillOpacity:"0",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor"}),Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"9",x2:"10",y1:"16",x1:"10",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"})),d=Object(r.createElement)(o.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(o.Rect,{height:"12",width:"22",y:"6",x:"1",fillOpacity:"0",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor"}),Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"12",x2:"2",y1:"12",x1:"22",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"})),m=Object(r.createElement)(o.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(o.Rect,{height:"12",width:"22",y:"6",x:"1",fillOpacity:"0",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor"})),b=Object(r.createElement)(o.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(o.Rect,{height:"8",width:"22",y:"8",x:"1",fillOpacity:"0",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor"})),f=Object(r.createElement)(o.SVG,{className:"mea-show__spinner",width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(o.Circle,{cx:"10",cy:"10",r:"9"}),Object(r.createElement)("path",{d:"M8 6l6 4.03L8 14V6z",fill:"currentColor"})),p=Object(r.createElement)(o.SVG,{className:"mea-show__spinner",width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(o.Circle,{cx:"10",cy:"10",r:"9"}),Object(r.createElement)("text",{fill:"currentColor",strokeWidth:"0",x:"5.5",y:"14",fontSize:"11",fontFamily:"sans-serif"},"M")),h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="mea-show__spinner"+(e?" mea-show__spinner_download":"");return Object(r.createElement)(o.SVG,{className:t,width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(o.Circle,{cx:"10",cy:"10",r:"9"}),Object(r.createElement)("path",{d:"M14 8l-4.03 6L6 8h8z",fill:"currentColor"}))},w=Object(r.createElement)(o.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true",focusable:"false"},Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"2",x2:"1",y1:"2",x1:"9",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"}),Object(r.createElement)(o.Rect,{height:"12",width:"22",y:"6",x:"1",fillOpacity:"0",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor"}),Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"7",x2:"11",y1:"18",x1:"11",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"}),Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"12",x2:"11",y1:"12",x1:"22",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"})),O=Object(r.createElement)(o.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true",focusable:"false"},Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"2",x2:"8",y1:"2",x1:"16",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"}),Object(r.createElement)(o.Rect,{height:"12",width:"22",y:"6",x:"1",fillOpacity:"0",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor"}),Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"7",x2:"11",y1:"18",x1:"11",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"}),Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"12",x2:"11",y1:"12",x1:"22",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"})),v=Object(r.createElement)(o.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true",focusable:"false"},Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"2",x2:"15",y1:"2",x1:"23",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"}),Object(r.createElement)(o.Rect,{height:"12",width:"22",y:"6",x:"1",fillOpacity:"0",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor"}),Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"7",x2:"11",y1:"18",x1:"11",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"}),Object(r.createElement)("line",{strokeLinecap:"null",strokeLinejoin:"null",y2:"12",x2:"11",y1:"12",x1:"22",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"2",stroke:"currentColor",fill:"none"}))},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l}));var r=function(e){return/^\s*(https?:\/\/(.+?\.)?mixcloud\.com\S+)\s*$/i.test(e)},o=function(e){var t=e.match(new RegExp("com/([^/]+)"));return t&&"string"==typeof t[1]&&(e=t[1]),e},c=function(e){return"https://www.mixcloud.com/".concat(e)},l="https://datcoder.com/embed-mixcloud-advanced/"},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){e.exports=window.wp.blockEditor},function(e,t){e.exports=window.wp.data},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){e.exports=window.wp.blocks},function(e,t,n){var r=n(19);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(20),o=n(4);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t){e.exports=window.regeneratorRuntime},,function(e,t){e.exports=window.wp.compose},function(e,t){function n(e,t,n,r,o,c,l){try{var i=e[c](l),a=i.value}catch(e){return void n(e)}i.done?t(a):Promise.resolve(a).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,c){var l=e.apply(t,r);function i(e){n(l,o,c,i,a,"next",e)}function a(e){n(l,o,c,i,a,"throw",e)}i(void 0)}))}}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},,,,,,,,,,function(e,t,n){e.exports=n(34)},,,,function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(2),c=n(17),l=n(9),i=n(12),a=n(8),s=n(3),u=n(11),d=n.n(u),m=n(15),b=n.n(m),f=n(18),p=n.n(f),h=n(7),w=n.n(h),O=n(4),v=n.n(O),y=n(5),x=n.n(y),j=n(13),k=n.n(j),g=n(14),E=n.n(g),_=n(10),C=n.n(_),L=n(1),S=function(e){var t=e.cannotLoad,n=e.channel,c=e.limit,l=e.offset,i=e.since,u=e.until,d=(e.previewInfoLink,e.loadPreview),m=e.editingChildURL,b=e.onChangeChannel,f=e.inverse,p=e.onSubmit,h=e.onChangeValue,w=function(e){return function(t){h(e,t)}};return Object(r.createElement)(L.Placeholder,{icon:Object(r.createElement)(a.BlockIcon,{icon:s.mixcloudIcon,showColors:!0}),label:Object(o.__)("Mixcloud Advanced - List","embed-mixcloud-advanced"),className:"wp-block-embed",instructions:t?Object(o.__)("Something went wrong!","embed-mixcloud-advanced"):Object(o.__)("To import shows from a Mixcloud channel please select the parameters and press button.","embed-mixcloud-advanced")},Object(r.createElement)("form",{className:"mea-list__form",onSubmit:p},Object(r.createElement)("div",{className:"mea-list__form__group"},Object(r.createElement)("input",{type:"text",value:n||"",className:"components-placeholder__input"+(t?" components-placeholder__input-error":""),"aria-label":Object(o.__)("Mixcloud Channel slug or URL","embed-mixcloud-advanced"),placeholder:Object(o.__)("Enter channel slug or URL here…","embed-mixcloud-advanced"),onChange:b}),Object(r.createElement)(L.Button,{isPrimary:!0,type:"submit",tabIndex:0},Object(o._x)("Embed","button label"))),Object(r.createElement)("div",{className:"mea-list__form__group_secondary"},Object(r.createElement)("label",null,Object(r.createElement)("span",null,Object(o.__)("Offset","embed-mixcloud-advanced"),":"),Object(r.createElement)(L.TextControl,{autoFocus:!0,type:"number",value:l,onChange:w("offset"),"aria-label":Object(o.__)("Offset","embed-mixcloud-advanced")})),Object(r.createElement)("label",null,Object(r.createElement)("span",null,Object(o.__)("Limit","embed-mixcloud-advanced"),":"),Object(r.createElement)(L.TextControl,{type:"number",value:c,onChange:w("limit"),"aria-label":Object(o.__)("Limit","embed-mixcloud-advanced")})),Object(r.createElement)("label",null,Object(r.createElement)("span",null,Object(o.__)("Since","embed-mixcloud-advanced"),":"),Object(r.createElement)(L.TextControl,{tabIndex:-1,type:"date",value:i,onChange:w("since"),"aria-label":Object(o.__)("Since","embed-mixcloud-advanced")})),Object(r.createElement)("label",null,Object(r.createElement)("span",null,Object(o.__)("Until","embed-mixcloud-advanced"),":"),Object(r.createElement)(L.TextControl,{tabIndex:-1,type:"date",value:u,onChange:w("until"),"aria-label":Object(o.__)("Until","embed-mixcloud-advanced")})))),Object(r.createElement)("form",null,Object(r.createElement)(L.CheckboxControl,{className:"components-placeholder__learn-more",label:Object(o.__)("Enable preview on each show","embed-mixcloud-advanced"),checked:d,onChange:f("loadPreview")}),Object(r.createElement)(L.CheckboxControl,{className:"components-placeholder__learn-more",label:Object(o.__)("Placeholder instead widget (editing parameters mode)","embed-mixcloud-advanced"),checked:m,onChange:f("editingChildURL")})),Object(r.createElement)("div",null,Object(o.__)("To download the preview data, a request will be made from the server to the show page.","embed-mixcloud-advanced")))},R=n(6);function P(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var B=Object(L.withFocusReturn)(function(e){k()(c,e);var t,n=(t=c,function(){var e,n=C()(t);if(P()){var r=C()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return E()(this,e)});function c(e){var t;return w()(this,c),(t=n.call(this,e)).setChannel=t.setChannel.bind(v()(t)),t.submit=t.submit.bind(v()(t)),t.requestShows=t.requestShows.bind(v()(t)),t.initInnerBlocks=t.initInnerBlocks.bind(v()(t)),t.__set=t.__set.bind(v()(t)),t.state={channel:e.attributes.channel,limit:e.attributes.limit,offset:e.attributes.offset,since:e.attributes.since||"",until:e.attributes.until||"",editingURL:e.attributes.editingURL,shows:e.attributes.shows||[],loadPreview:e.attributes.loadPreview||!0,editingChildURL:e.attributes.editingChildURL||!1},t}return x()(c,[{key:"withFocusReturn",value:function(){}}]),x()(c,[{key:"setChannel",value:function(e){this.__set({channel:e}),this.props.cannotEmbed&&!this.state.editingURL&&this.__set({editingURL:!0})}},{key:"submit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;e&&e.preventDefault();var t=this.state.channel;t&&(this.__set({editingURL:!1}),this.requestShows())}},{key:"__set",value:function(e){this.setState(e),this.props.setAttributes(e)}},{key:"requestShows",value:function(){var e=this;this.setState({fetching:!0});var t=this.state.channel;p()(b.a.mark((function n(){var r,o;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="https://api.mixcloud.com/"+Object(R.a)(t)+"/cloudcasts/?a=a",["limit","offset","since","until"].forEach((function(t,n){e.state[t]&&(r+="&".concat(t,"=").concat(e.state[t]),r+=["since","until"].indexOf(t)>-1?" 00:00:00":"")})),n.next=4,fetch(r);case 4:if(!(o=n.sent).ok){n.next=11;break}return n.next=8,o.json();case 8:return n.abrupt("return",n.sent);case 11:console.error("HTTP ERROR: "+o.status);case 12:case"end":return n.stop()}}),n)})))().then((function(t){void 0!==t.data&&e.setState({shows:t.data}),(0,e.props.setAttributes)({shows:t.data}),e.initInnerBlocks()}))}},{key:"initInnerBlocks",value:function(){var e=this.state,t=e.shows,n=e.loadPreview,r=e.editingChildURL;if(void 0!==t&&void 0!==t.length){for(var o=0;o<t.length;o++){var c=Object(l.select)("core/block-editor").getBlockInsertionPoint().index,a=Object(i.createBlock)("veliky/mixcloud-show",{url:t[o].url,loadPreview:n,editingURL:r});Object(l.dispatch)("core/editor").insertBlocks(a,c,this.props.clientId)}this.__set({editingURL:!0})}}},{key:"render",value:function(){var e=this,t=this.state,n=t.channel,c=t.limit,l=t.offset,i=t.since,s=t.until,u=t.loadPreview,m=t.editingChildURL,b=this.props,f=b.className,p=b.allowedBlocks,h=b.cannotEmbed,w=b.fetching;return w?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"wp-block-embed is-loading"},Object(r.createElement)(L.Spinner,null),Object(r.createElement)("p",null,Object(o.__)("Loading…","embed-mixcloud-advanced")))):Object(r.createElement)("div",{className:"mea-list__container "+f},!w&&Object(r.createElement)(S,{cannotLoad:h,channel:n,limit:c,offset:l,since:i,until:s,previewInfoLink:R.d+"#preview",loadPreview:u,editingChildURL:m,onSubmit:this.submit,onChangeValue:function(t,n){return e.__set(d()({},t,n))},onChangeChannel:function(t){return e.setChannel(t.target.value)},inverse:function(t){return function(n){return e.setState(d()({},t,!e.state[t]))}}}),Object(r.createElement)(a.InnerBlocks,{allowedBlocks:p}))}}]),c}(r.Component));Object(i.registerBlockType)("veliky/mixcloud-list",{title:Object(o.__)("Mixcloud Advanced - List","embed-mixcloud-advanced"),icon:s.mixcloudIcon,attributes:{channel:{type:"string"},limit:{type:"string",default:"5"},offset:{type:"string",default:"0"},since:{type:"string"},until:{type:"string"},editingURL:{type:"boolean",default:!0}},edit:Object(c.compose)(Object(l.withSelect)((function(e,t){var n=t.attributes,r=n.channel,o=n.editingURL,c=Object(R.c)(r)?r:Object(R.b)(r),l=e("core"),i=l.getEmbedPreview,a=l.isPreviewEmbedFallback,s=l.isRequestingEmbedPreview;if(!o){var u=void 0!==c&&""!==c,d=u&&i(c),m=u&&a(c),b=u&&s(c),f=!!d&&void 0===d.type&&!1===d.html,p=!!d&&d.data&&404===d.data.status,h=!!d&&!f&&!p;return{preview:h?d:void 0,fetching:b,cannotEmbed:u&&(!Object(R.c)(c)||!h||m)}}})))(B),save:function(e){var t=e.className;return Object(r.createElement)("div",{className:t},Object(r.createElement)(a.InnerBlocks.Content,{allowedBlocks:B.allowedBlocks}))}})}]);